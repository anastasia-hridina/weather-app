import{j as e,r as d}from"./index-3ab7d5c5.js";import{p as j,P as m,i as h,f as S,S as T,g as I}from"./Search-37843a2a.js";import{G as F,S as E}from"./index-3e326cda.js";v.propTypes={children:j.PropTypes.node};function v({children:t}){return e.jsx("div",{className:"mt-10",children:t})}w.propTypes={weather:m.object};function w({weather:{name:t,country:i,description:s,icon:c,temp:a}}){return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-center items-center gap-32",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-4xl font-bold tracking-wide",children:`${t}, ${i} `}),e.jsx("p",{className:"pb-5 pt-1 text-neutral-400 text-sm tracking-wide",children:s}),e.jsxs("span",{className:"text-6xl font-bold",children:[Math.ceil(a),"°"]})]}),e.jsx("img",{className:"w-28",src:h(c),alt:""})]}),e.jsx("div",{className:"my-8 h-px border-t-0 bg-transparent bg-gradient-to-r from-transparent via-neutral-300 to-transparent opacity-20 dark:opacity-100"})]})}N.propTypes={title:m.string,items:m.array};function N({title:t,items:i}){return e.jsxs("div",{children:[e.jsx("p",{className:"text-sm uppercase font-bold text-neutral-400 tracking-wide pb-4",children:t}),e.jsx("div",{className:"flex justify-center gap-10 overflow-auto -mb-3 pb-3",children:i.slice(0,4).map(s=>e.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[e.jsx("p",{className:"text-neutral-400 font-bold text-sm whitespace-nowrap",children:s.title}),e.jsx("img",{className:"w-10 mx-auto",src:h(s.icon),alt:""}),e.jsxs("span",{className:"font-bold text-lg text-center",children:[Math.ceil(s.temp),"°"]})]},s.title))}),e.jsx("div",{className:"my-6 h-px border-t-0 bg-transparent bg-gradient-to-r from-transparent via-neutral-300 to-transparent opacity-20 dark:opacity-100"})]})}C.propTypes={title:m.string,items:m.array};function C({title:t,items:i}){return e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("p",{className:"pb-1 text-neutral-400 uppercase font-bold text-sm tracking-wide",children:t}),i.slice(0,3).map(s=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-neutral-400 text-sm",children:s.title}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("img",{className:"w-10",src:h(s.icon),alt:""}),e.jsx("span",{className:"font-bold",children:s.description})]}),e.jsxs("span",{className:"mr-10 font-bold",children:[Math.ceil(s.temp.max),"°",e.jsxs("span",{className:"font-normal text-neutral-400",children:["/",Math.ceil(s.temp.min),"°"]})]})]},s.title))]})}function U(t){return F({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 4c-4.419 0-8 3.582-8 8s3.581 8 8 8 8-3.582 8-8-3.581-8-8-8zm3.707 10.293c.391.391.391 1.023 0 1.414-.195.195-.451.293-.707.293s-.512-.098-.707-.293l-2.293-2.293-2.293 2.293c-.195.195-.451.293-.707.293s-.512-.098-.707-.293c-.391-.391-.391-1.023 0-1.414l2.293-2.293-2.293-2.293c-.391-.391-.391-1.023 0-1.414s1.023-.391 1.414 0l2.293 2.293 2.293-2.293c.391-.391 1.023-.391 1.414 0s.391 1.023 0 1.414l-2.293 2.293 2.293 2.293z"}}]})(t)}b.propTypes={weather:j.PropTypes.object,removeHandle:j.PropTypes.func};function b({weather:{name:t,country:i,icon:s,temp:c,dt:a,timezone:o},removeHandle:r}){return e.jsx("ul",{children:e.jsxs("li",{className:"relative flex items-center gap-10 mt-5 p-7 bg-[#95c2e1] rounded-3xl",children:[e.jsx("img",{className:"w-20 max-[576px]:hidden",src:h(s),alt:"Icon"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold tracking-wide text-white mb-1",children:`${t}, ${i}`}),e.jsx("span",{className:"text-cyan-100 font-medium text-lg",children:S(a,o)})]}),e.jsxs("span",{className:"ml-auto mb-auto text-cyan-100 text-4xl active:text-gray-400",children:[Math.ceil(c),"°"]}),e.jsx("button",{onClick:()=>{r(t)},className:"absolute top-1 right-1",children:e.jsx(U,{size:33,className:"opacity-0 hover:opacity-100 fill-sky-100 max-[992px]:opacity-100"})})]})})}const y="weather";function D(){const[t,i]=d.useState({q:"Kyiv"}),[s,c]=d.useState(()=>JSON.parse(window.localStorage.getItem(y))||[]);function a(r){s.find(n=>n.name===r.name)||c([r,...s])}const o=r=>{const n=s.filter(l=>l.name!==r);c(n)};return d.useEffect(()=>{window.localStorage.setItem(y,JSON.stringify(s))},[s]),[t,i,a,s,o]}/*! js-cookie v3.0.5 | MIT */function f(t){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var c in s)t[c]=s[c]}return t}var R={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function g(t,i){function s(a,o,r){if(!(typeof document>"u")){r=f({},i,r),typeof r.expires=="number"&&(r.expires=new Date(Date.now()+r.expires*864e5)),r.expires&&(r.expires=r.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var l in r)r[l]&&(n+="; "+l,r[l]!==!0&&(n+="="+r[l].split(";")[0]));return document.cookie=a+"="+t.write(o,a)+n}}function c(a){if(!(typeof document>"u"||arguments.length&&!a)){for(var o=document.cookie?document.cookie.split("; "):[],r={},n=0;n<o.length;n++){var l=o[n].split("="),u=l.slice(1).join("=");try{var x=decodeURIComponent(l[0]);if(r[x]=t.read(u,x),a===x)break}catch{}}return a?r[a]:r}}return Object.create({set:s,get:c,remove:function(a,o){s(a,"",f({},o,{expires:-1}))},withAttributes:function(a){return g(this.converter,f({},this.attributes,a))},withConverter:function(a){return g(f({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(t)}})}var A=g(R,{path:"/"});function z(){const[t,i,s,c,a]=D(),[o,r]=d.useState({units:"metric"}),[n,l]=d.useState();d.useEffect(()=>{(async()=>{await I({...t,...o}).then(k=>{l(k)})})()},[t,o]),d.useEffect(()=>{n&&s(n)},[n]);const u=p=>{i({q:p.label})},x="citiescookies";return d.useEffect(()=>{A.set(x,"weatheracrosscities",{expires:1})},[]),e.jsxs("section",{className:"flex gap-5 max-w-[1400px] mx-auto p-3 max-[992px]:w-full max-[992px]:mb-16",children:[e.jsx(E,{}),e.jsxs("div",{className:"w-[55%] h-full max-[992px]:w-full",children:[e.jsx(T,{onSearchChange:u}),n&&e.jsx(v,{children:c.length?c.map(p=>e.jsx(b,{weather:p,removeHandle:a},p.name)):e.jsx("p",{className:"text-center text-xl tracking-wider uppercase font-bold text-slate-400",children:"No cities added"})})]}),e.jsx("div",{className:"w-[30%] ml-8 h-full max-[992px]:hidden",children:n&&e.jsxs("div",{children:[e.jsx(w,{weather:n}),e.jsx(N,{items:n.hourly,title:"Today's Forecast"}),e.jsx(C,{items:n.daily,title:"3-Day Forecast"})]})})]})}export{z as Component,z as default};
